<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            background-color: rgb(246, 239, 229);
            margin-left: 40%;
        }
    .container{
        width: 320px;
        margin-top: 30px;
        padding-top: 20px;
        border: 2px solid aquamarine;
        display: flex;
        align-items: center;
        flex-direction: column;
        background-color: aquamarine;
    }    
 #signup-form-container {
  width: 300px; 
   margin: 0 auto;  
}


 label {
  display: block; 
   margin-bottom: 10px;  
}

input
 {
  width: 100%;
  padding: 5px; 
  margin-bottom: 15px; 
} 
input:hover{
    background-color:antiquewhite;
}

 button {
  display: block; 
  padding: 10px 20px; 
  background-color:red; 
  color: #fff; 
  border: none; 
  cursor: pointer;
} 
a{
    text-decoration: none;
    color: red;
}
button:hover{
    background-color: blue;
}
a:hover{
    color: blue;
}
#alert{
    color: crimson;
}
</style>
</head>
<body>
    <div class="container" id="signup-form">
        <form onsubmit="savetodatabase(event)" id="signup-form-container">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required/>
          
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required/>
          
            <label for="password">Password:</label>
            <input id="password" name="password" required/>
          
            <button type="submit">Signup</button>
            <p id="alert"></p>
        </form>
        <p>Existing User- <a id="login-toggle" href="">Login</a></p>
    </div>

    <div class="container" id="login-form" style="display: none;">
        <form  id="signup-form-container">
            
          
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required/>
          
            <label for="password">Password:</label>
            <input id="password" name="password" required/>
          
            <button type="submit">login</button>
            <p id="login-alert"></p>
        </form>
        <p>New User- <a id="signup-toggle" href="">Signup</a></p>
    </div>
    
    
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.4.0/axios.min.js"></script>
<script>
    
    const signupForm = document.getElementById("signup-form");
    const loginForm = document.getElementById("login-form");
    const loginToggle = document.getElementById("login-toggle");
    const signupToggle = document.getElementById("signup-toggle");

    loginToggle.addEventListener("click", function () {
        event.preventDefault()
      signupForm.style.display = "none";
      loginForm.style.display = "block";
    });

    signupToggle.addEventListener("click", function () {
      loginForm.style.display = "none";
      signupForm.style.display = "block";
    });
  




    function savetodatabase(event){
            event.preventDefault();
            const name = event.target.name.value;
            const email = event.target.email.value;
            const password = event.target.password.value;
            const obj={
                name,
                email,
                password
            }
            console.log(obj);
            axios.post("http://localhost:3000/user/add-user", obj)
            .then((response) =>{
                
                console.log(response.data.newUserdetail)
                document.getElementById("name").value = '';
                document.getElementById('email').value = '';
                document.getElementById('password').value ='';
                console.log("post success")
                // displayonScreen(response.data.newUserdetail);
            })
            .catch(err=>{
                console.log(err)
                document.getElementById('alert').innerHTML = "User already exists";
                
            })
    
        }
</script>
</html>